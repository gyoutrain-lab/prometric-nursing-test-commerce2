<input id="userNameInput" placeholder="Name">
<input id="userWAInput" placeholder="WhatsApp #">
<button onclick="startConfirmation()">Confirmation</button>

<script>
function startConfirmation() {
  const name = document.getElementById("userNameInput").value.trim();
  const wa = document.getElementById("userWAInput").value.trim();

  if (!name || !wa) {
    alert("Please enter Name & WhatsApp Number.");
    return;
  }

  // Step 1: Ask user to confirm
  const ok = confirm(
    "You are about to notify Admin.\nYou MUST share your payment proof.\nProceed?"
  );
  if (!ok) return;

  // Step 2: Notify admin (NO UNLOCK CODE YET)
  const adminMsg =
    `PAYMENT CONFIRMATION REQUEST:\n` +
    `Name: ${name}\n` +
    `WA#: ${wa}\n\n` +
    `Press:\n` +
    `1️⃣  Send Unlock Code\n` +
    `2️⃣  Unlock In Progress\n\n` +
    `User is waiting.`;

  window.open(
    `https://wa.me/6285399652487?text=${encodeURIComponent(adminMsg)}`,
    "_blank"
  );

  // Step 3: Tell user what to do next
  alert(
    "Admin has been notified.\n\nPlease SEND your payment proof to Admin via WhatsApp.\nAdmin will check and send your unlock code."
  );
}

// User enters unlock code AFTER admin gives it manually
function verifyUnlock() {
  const code = prompt("Enter the unlock code given by admin:");
  if (!code) return;

  // Only admin-issued codes allowed
  // No backend → simple validation pattern
  if (code.length < 4) {
    alert("Invalid unlock code. Please wait for admin.");
    return;
  }

  alert("Unlock Code Accepted.\nYou may continue the test.");
  window.location.href =
    "https://gyoutrain-lab.github.io/nursing-prometric-test-allinone500/";
}
</script>

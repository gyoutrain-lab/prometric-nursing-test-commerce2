<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nursing Prometric Test - Landing</title>
<style>
body, html { margin:0; padding:0; font-family:Arial,sans-serif; height:100%; overflow-x:hidden; background:#eef5f5; }
.top-half { width:100%; height:50vh; background:url('assets/icon17%20(1).jpg') center/cover no-repeat; position: relative; }
.bottom-half { width:100%; height:50vh; position:relative; display:flex; flex-direction:column; justify-content:flex-end; align-items:flex-start; padding:20px; box-sizing:border-box; overflow:hidden; background:#eef5f5; }
.water-flow { position:absolute; top:0; left:0; width:200%; height:200%; background:url('assets/icon17%20(1).jpg') repeat; opacity:0.2; background-size:cover; animation:flow 15s linear infinite; pointer-events:none; }
@keyframes flow { 0%{transform:translate(-50%,-50%) rotate(0deg);} 100%{transform:translate(-50%,-50%) rotate(360deg);} }

/* Text overlay on left-center */
.header-text { position:absolute; left:20px; top:50%; transform:translateY(-50%); z-index:2; color:#003366; }
.header-text .line1 { font-size:1.8rem; font-weight:bold; margin-bottom:5px; }
.header-text .line2 { font-size:1.1rem; color:red; }

/* QR image centered bottom */
.qr-container { position:absolute; bottom:20px; left:50%; transform:translateX(-50%); width:25%; max-width:200px; z-index:2; opacity:1; }

/* User input section */
.user-info { margin-top:10px; font-size:0.9rem; color:#000; display:flex; flex-wrap:wrap; gap:10px; z-index:2; position:relative; }
.user-info input { padding:5px 10px; border-radius:5px; border:1px solid #ccc; font-size:0.9rem; width:calc(50% - 10px); }

/* Social icons */
.social-icons { margin-top:15px; display:flex; gap:15px; z-index:2; position:relative; }
.social-icons a img { width:40px; height:40px; cursor:pointer; transition:transform 0.3s; }
.social-icons a img:hover { transform:scale(1.2); }

/* Buttons */
.buttons { margin-top:15px; z-index:2; position:relative; display:flex; flex-wrap:wrap; gap:10px; }
button { padding:10px 20px; border:none; border-radius:8px; cursor:pointer; font-size:1rem; transition:0.3s; }
#demo-btn { background-color:#ffc107; color:#000; }
#demo-btn:hover { background-color:#e0a800; }
#continue-btn { background-color:#28a745; color:#fff; }
#continue-btn:hover { background-color:#218838; }
#confirm-btn { background-color:#007bff; color:#fff; }
#confirm-btn:hover { background-color:#0056b3; }
input.unlock-code { padding:5px; width:150px; margin-right:10px; border-radius:5px; border:1px solid #ccc; }

@media (max-width:768px){
  .qr-container { width:50%; max-width:250px; }
  input.unlock-code { width:100px; }
  .bottom-half h2 { font-size:1.2rem; }
  .social-icons a img { width:30px; height:30px; }
  .user-info input { width:100%; }
  .buttons { flex-direction:column; gap:10px; }
  .header-text { left:10px; font-size:0.9rem; }
}
</style>

<!-- Open Graph / Social Media Thumbnails -->
<meta property="og:title" content="Nursing Prometric Test - Simulation Portal">
<meta property="og:description" content="Check QR Dana - Just IDR 50k - Share Proof - Get Unlock Code for Next Test">
<meta property="og:image" content="https://yourdomain.com/assets/icon17%20(1).jpg">
<meta property="og:url" content="https://yourdomain.com/landingpage.html">
<meta name="twitter:card" content="summary_large_image">

</head>
<body>

<div class="top-half" id="topHalf" data-src="assets/icon17%20(1).jpg"></div>

<div class="bottom-half">
  <div class="water-flow"></div>
  <div class="header-text">
    <div class="line1">Nursing Prometric Actual Simulation Test</div>
    <div class="line2">500 test items based on the SMLE & Enclex Test Materials</div>
  </div>
  <img id="danaQR" class="qr-container" data-src="assets/dana_qr.png" alt="Dana QR">

  <div class="user-info">
    <input type="text" id="userNameInput" placeholder="Enter your name" required>
    <input type="text" id="userWAInput" placeholder="Enter your WA #" required>
  </div>

  <div class="social-icons">
    <a href="tel:+6285399652487" title="Call"><img src="https://cdn-icons-png.flaticon.com/512/597/597177.png" alt="Call"></a>
    <a href="https://wa.me/6285399652487" target="_blank" title="WhatsApp"><img src="https://cdn-icons-png.flaticon.com/512/733/733585.png" alt="WhatsApp"></a>
    <a href="mailto:gyoutrain@gmail.com" target="_blank" title="Email"><img src="https://cdn-icons-png.flaticon.com/512/732/732200.png" alt="Email"></a>
    <a href="https://web.facebook.com/gyouskill/?_rdc=1&_rdr#" target="_blank" title="Facebook"><img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook"></a>
    <a href="https://www.instagram.com/etkyogya?igsh=cHEwZ3lycXhqNHc1" target="_blank" title="Instagram"><img src="https://cdn-icons-png.flaticon.com/512/733/733558.png" alt="Instagram"></a>
  </div>

  <div class="buttons">
    <button id="demo-btn" onclick="window.location.href='https://gyoutrain-lab.github.io/prometric-nursing-test-demo/'">Demo Test (Free)</button>
    <button id="confirm-btn" onclick="confirmPayment()">Confirmation</button>
    <input type="text" class="unlock-code" id="unlockCodeInput" placeholder="Enter unlock code" disabled>
    <button id="continue-btn" onclick="checkUnlockCode()" disabled>Continue Next Test</button>
  </div>
</div>

<script>
function lazyLoadImage(img){
  const src=img.getAttribute('data-src');
  if(src){ img.src=src; img.style.opacity=1; img.removeAttribute('data-src'); }
}

window.addEventListener('load',()=>{
  const top=document.getElementById('topHalf');
  const qr=document.getElementById('danaQR');
  top.style.backgroundImage=`url('${top.getAttribute('data-src')}')`;
  lazyLoadImage(qr);
});

let unlockCode="";
let paymentApproved=false;
let intervalId=null;

function confirmPayment(){
  const name=document.getElementById("userNameInput").value.trim();
  const wa=document.getElementById("userWAInput").value.trim();
  if(!name || !wa){ alert("Please fill Name + WA."); return; }

  const adminMsg=`Payment Pending:
Name: ${name}
WA #: ${wa}
Check QR Dana - Just IDR 50k - Share Proof - You will get the Unlock Code to continue Next Test`;

  window.open(`https://wa.me/6285399652487?text=${encodeURIComponent(adminMsg)}`, "_blank");

  document.getElementById("unlockCodeInput").disabled=true;
  document.getElementById("continue-btn").disabled=true;

  const GAS_URL="https://script.google.com/macros/s/AKfycbzIfzn164axPDK4hIXZxZCccCVxmfaO5hxOMyVExE0YfDyXY9TCrYRc067gDDhorQJhqQ/exec";
  if(intervalId) clearInterval(intervalId);
  intervalId=setInterval(()=>{
    fetch(GAS_URL,{
      method:"POST",
      body:JSON.stringify({name:name, wa:wa})
    }).then(res=>res.json())
    .then(data=>{
      if(data.status==="approved"){
        unlockCode=data.unlockCode.toUpperCase();
        paymentApproved=true;
        document.getElementById("unlockCodeInput").disabled=false;
        document.getElementById("continue-btn").disabled=false;
        clearInterval(intervalId);
        alert("Payment confirmed by admin. Enter the unlock code provided by admin to continue.");
      }
    }).catch(err=>console.log(err));
  },3000);
}

function checkUnlockCode(){
  const codeInput=document.getElementById("unlockCodeInput").value.trim().toUpperCase();
  if(!codeInput){ alert("Enter unlock code."); return; }
  if(!paymentApproved){ alert("Unlock code not approved yet."); return; }
  if(codeInput===unlockCode){
    alert("Unlock code valid! Redirecting...");
    window.location.href="https://gyoutrain-lab.github.io/nursing-prometric-test-allinone500/";
  }else{ alert("Invalid unlock code. Contact admin."); }
}
</script>

</body>
</html>
